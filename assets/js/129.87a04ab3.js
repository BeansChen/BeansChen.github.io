(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{429:function(a,t,r){"use strict";r.r(t);var v=r(14),_=Object(v.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("blockquote",[t("p",[a._v("做管理类小程序通常有动态配置菜单的需求，使用场景不动解决方案也不一样。，")])]),a._v(" "),t("h2",{attrs:{id:"tabbar配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tabbar配置"}},[a._v("#")]),a._v(" tabbar配置")]),a._v(" "),t("h4",{attrs:{id:"场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[a._v("#")]),a._v(" 场景")]),a._v(" "),t("ol",[t("li",[a._v("根据不同的角色显示不同的tabbar,但是对应tabbar的内容是一样的，tabbar的总数不超过5个（小程序上限为5个）。")]),a._v(" "),t("li",[a._v("根据不同的角色显示不同的tabbar，但有这种情况，角色A显示菜单：首页、发现、我的，角色B显示菜单：首页、我的，但是两个角色的【我的】模块内容完全不同。")])]),a._v(" "),t("h4",{attrs:{id:"方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案"}},[a._v("#")]),a._v(" 方案")]),a._v(" "),t("ol",[t("li",[a._v("（不推荐）两种场景都可以使用的方案：不使用原生tabbar，全部使用"),t("code",[a._v("uni.redirectTo(OBJECT)")]),a._v(" 来跳转页面，体验极差")]),a._v(" "),t("li",[a._v("（一般）两种场景都可以使用的方案：不使用原生tabbar，全部使用组件的方式引入，然后用 "),t("code",[a._v("v-if")]),a._v(" 来显示和隐藏，但是会丧失一些小程序page原本的特性，比如上拉加载和下拉刷新，难以判断操作到底发生在哪个页面，当然还有其他很多问题，这里不一一例举")]),a._v(" "),t("li",[a._v("针对第一种场景，在小程序 page.json 中配置对应tabbar，然后在对应的tabbar页面中使用"),t("code",[a._v("uni.hideTabBar()")]),a._v("方法隐藏原生的tabbar用自定义tabbar来代替")]),a._v(" "),t("li",[a._v("针对第二种场景，先定义好5个tabbar页面，然后把所有的tabbar页面内容都通过组件的方式引入每个tabbar中，通过逻辑来判断显示哪一个，相对于方法 2 来说，这种方法保留了page原本的特性。这也是最终采用的方式，接下来详细介绍一下实现原理。")])]),a._v(" "),t("h2",{attrs:{id:"非tabbar页面菜单配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非tabbar页面菜单配置"}},[a._v("#")]),a._v(" 非tabbar页面菜单配置")]),a._v(" "),t("p",[a._v("实现方式：")]),a._v(" "),t("ul",[t("li",[a._v("写一个递归算法，根据page-title匹配到对应的children")]),a._v(" "),t("li",[a._v("使用全局的 mixin 把该方法注入到每一个页面中")]),a._v(" "),t("li",[a._v("相应的页面根据对应的菜单配置来渲染页面菜单")])]),a._v(" "),t("h2",{attrs:{id:"方案4实现方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案4实现方式"}},[a._v("#")]),a._v(" 方案4实现方式")]),a._v(" "),t("p",[a._v("尽在代码中...")])])}),[],!1,null,null,null);t.default=_.exports}}]);