(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{332:function(e,t,r){"use strict";r.r(t);var s=r(14),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),t("p",[e._v("在使用 vue-cli 开发项目的时候，发现项目根目录下有"),t("code",[e._v(".browserslistrc")]),e._v(" 文件，里面的配置如下")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("> 1%\nlast 2 versions\nnot dead\n")])])]),t("p",[e._v("后面在阅读 "),t("a",{attrs:{href:"https://www.babeljs.cn/docs/babel-preset-env",target:"_blank",rel:"noopener noreferrer"}},[e._v("@babel/preset-env"),t("OutboundLink")],1),e._v("  文档时候，也有提到：")]),e._v(" "),t("blockquote",[t("p",[e._v("对于基于浏览器或 Electron 的项目，推荐使用 .browserslistrc 文件来指定目标环境。默认情况下"),t("code",[e._v("@babel/preset-env")]),e._v("将使用"),t("a",{attrs:{href:"https://github.com/ai/browserslist#queries",target:"_blank",rel:"noopener noreferrer"}},[e._v("browserslist 配置源"),t("OutboundLink")],1),e._v(" ，"),t("strong",[e._v("除非")]),e._v("设置了"),t("a",{attrs:{href:"https://www.babeljs.cn/docs/babel-preset-env#targets",target:"_blank",rel:"noopener noreferrer"}},[e._v("targets"),t("OutboundLink")],1),e._v("或"),t("a",{attrs:{href:"https://www.babeljs.cn/docs/babel-preset-env#ignorebrowserslistconfig",target:"_blank",rel:"noopener noreferrer"}},[e._v("ignoreBrowserslistConfig"),t("OutboundLink")],1),e._v("选项。")])]),e._v(" "),t("p",[e._v("所以，在此结合"),t("a",{attrs:{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方文档"),t("OutboundLink")],1),e._v("对 browserslist 进行简单的介绍。")]),e._v(" "),t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),t("p",[e._v("browserslist 是在不同的前端开发工具之间共享目标浏览器和 node 版本的配置工具。它被以下工具使用：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Autoprefixer"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/babel/babel/tree/master/packages/babel-preset-env",target:"_blank",rel:"noopener noreferrer"}},[e._v("Babel"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/jonathantneal/postcss-preset-env",target:"_blank",rel:"noopener noreferrer"}},[e._v("postcss-preset-env"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/amilajack/eslint-plugin-compat",target:"_blank",rel:"noopener noreferrer"}},[e._v("eslint-plugin-compat"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/ismay/stylelint-no-unsupported-browser-features",target:"_blank",rel:"noopener noreferrer"}},[e._v("stylelint-no-unsupported-browser-features"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/jonathantneal/postcss-normalize",target:"_blank",rel:"noopener noreferrer"}},[e._v("postcss-normalize"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/ElemeFE/obsolete-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("obsolete-webpack-plugin"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("所有的工具都将自动的找到目标浏览器，前提是你在根目录的 "),t("code",[e._v("package.json")]),e._v(" 中增加了以下配置：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('  "browserslist": [\n    "defaults",\n    "not IE 11",\n    "maintained node versions"\n  ]\n')])])]),t("p",[e._v("或者是在根目录新建 "),t("code",[e._v(".browserslistrc")]),e._v(" 文件（配置如下）：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# Browsers that we support\n\ndefaults\nnot IE 11\nmaintained node versions\n")])])]),t("p",[e._v("开发者使用类似 "),t("code",[e._v("last 2 versions")]),e._v(" 这样的查询来设置他们的版本列表，避免频繁的手动更新版本。browserslist 使用 "),t("a",{attrs:{href:"https://link.juejin.cn/?target=http%3A%2F%2Fcaniuse.com%2F",target:"_blank",rel:"noopener noreferrer"}},[e._v("Can I Use"),t("OutboundLink")],1),e._v(" 网站的数据来查询浏览器版本范围。")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fbrowserslist%2Fbrowserslist-example",target:"_blank",rel:"noopener noreferrer"}},[e._v("Browserslist Example"),t("OutboundLink")],1),e._v(" 这个仓库显示了Browserslist如何被各个工具使用。")]),e._v(" "),t("h2",{attrs:{id:"最佳实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[e._v("#")]),e._v(" 最佳实践")]),e._v(" "),t("ul",[t("li",[e._v("有一个 "),t("code",[e._v("defaults")]),e._v(" 查询，他为大多数的用户提供了合理的配置：")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('  "browserslist": [\n    "defaults"\n  ]\n')])])]),t("ul",[t("li",[e._v("如果您想更改默认浏览器集，我们建议将 "),t("code",[e._v("last 2 versions")]),e._v(","),t("code",[e._v("not dead")]),e._v("与"),t("code",[e._v("> 0.2%")]),e._v(". 这是因为"),t("code",[e._v("last n versions")]),e._v("它本身不会添加流行的旧版本，而仅使用上述百分比"),t("code",[e._v("0.2%")]),e._v("从长远来看会使流行的浏览器更加流行。我们可能会遇到垄断和停滞的情况，就像我们在 Internet Explorer 6 中遇到的那样。请谨慎使用此设置。")]),e._v(" "),t("li",[t("code",[e._v("last 2 Chrome versions")]),e._v("仅当您使用一个浏览器为信息亭制作 Web 应用程序时，才直接选择浏览器 ( )。市场上有很多浏览器。如果您正在制作通用网络应用程序，您应该尊重浏览器的多样性。")]),e._v(" "),t("li",[e._v("不要因为您不了解浏览器而删除它们。Opera Mini 在非洲拥有 1 亿用户，在全球市场上比 Microsoft Edge 更受欢迎。中国 QQ 浏览器的市场份额超过了 Firefox 和桌面版 Safari 的总和。")])]),e._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),t("p",[e._v("browserslist 是一个配置文件，主流的前端开发工具都遵循其规则来兼容到目标浏览器。")])])}),[],!1,null,null,null);t.default=a.exports}}]);