(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{353:function(s,a,n){"use strict";n.r(a);var t=n(14),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"本地调试测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地调试测试"}},[s._v("#")]),s._v(" 本地调试测试")]),s._v(" "),a("h3",{attrs:{id:"普通调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#普通调试"}},[s._v("#")]),s._v(" 普通调试")]),s._v(" "),a("p",[s._v("在 bean-cli-simple 根目录下，执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" \n")])])]),a("h3",{attrs:{id:"分包调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分包调试"}},[s._v("#")]),s._v(" 分包调试")]),s._v(" "),a("p",[s._v("在 bean-cli-simple-lib 根目录下，执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" \n")])])]),a("p",[s._v("注意修改 "),a("code",[s._v("package.json")]),s._v(" 中的 "),a("code",[s._v("main")]),s._v(" 配置")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lib/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("p",[s._v("此时全局已经存在此包，切换到 bean-cli-simple 下，执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" bean-cli-simple-lib\n")])])]),a("p",[s._v("把包链接到了本地，但此时 "),a("code",[s._v("dependencies")]),s._v(" 中是没有依赖的，需要手动添加")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bean-cli-simple-lib"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),s._v("\n")])])]),a("h3",{attrs:{id:"发布分包后调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布分包后调试"}},[s._v("#")]),s._v(" 发布分包后调试")]),s._v(" "),a("p",[s._v("在 bean-cli-simple 执行")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm unlink bean-cli-simple-lib\n")])])]),a("p",[s._v("在 unlink bean-cli-simple-lib 执行")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm unlink\n")])])]),a("p",[s._v("此时已经解除所有的 link ，然后回到 bean-cli-simple ，执行")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i bean-cli-simple-lib -S\n")])])]),a("h3",{attrs:{id:"发布主包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布主包"}},[s._v("#")]),s._v(" 发布主包")]),s._v(" "),a("p",[s._v("在 bean-cli-simple 执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unlink\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n")])])]),a("h2",{attrs:{id:"本地调试标准流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地调试标准流程"}},[s._v("#")]),s._v(" 本地调试标准流程")]),s._v(" "),a("p",[s._v("链接本地脚手架：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-cli-dir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n")])])]),a("p",[s._v("链接本地库文件：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-lib-dir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-cli-dir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" your-lib\n")])])]),a("p",[s._v("取消链接本地库文件：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-lib-dir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unlink\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-cli-dir\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# link存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unlink your-lib\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# link不存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" node_modules\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 依赖不存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" your-lib\n")])])]),a("p",[s._v("理解 "),a("code",[s._v("npm link")]),s._v(" ：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("npm link your-lib")]),s._v(" ：将当前项目中 "),a("code",[s._v("node_modules")]),s._v(" 中的库文件连接到全局的 "),a("code",[s._v("node_modules")]),s._v(" 下的库文件")]),s._v(" "),a("li",[a("code",[s._v("npm link")]),s._v(" ：将当前项目链接到 "),a("code",[s._v("node_modules")]),s._v(" 中作为一个库文件，并解析 "),a("code",[s._v("bin")]),s._v(" 配置创建可执行文件")])]),s._v(" "),a("p",[s._v("理解 "),a("code",[s._v("npm unlink")]),s._v(" ：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("npm unlink your-lib")]),s._v(" ：将当前项目中 "),a("code",[s._v("node_modules")]),s._v(" 中的库文件依赖移除")]),s._v(" "),a("li",[a("code",[s._v("npm unlink")]),s._v(" ：将当前项目从全局 "),a("code",[s._v("node")]),s._v(" 下的 "),a("code",[s._v("node_modules")]),s._v(" 中移除")])])])}),[],!1,null,null,null);a.default=e.exports}}]);