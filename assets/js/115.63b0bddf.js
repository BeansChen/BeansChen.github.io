(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{415:function(t,e,a){"use strict";a.r(e);var s=a(14),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("合抱之木，生于毫末；九层之台，起于累土；千里之行，始于足下。")]),t._v(" "),e("p",[t._v("本章讲一下工作中怎么使用 "),e("code",[t._v("localstorage")]),t._v(" ，以满足各种场景需要，在各个项目中（包括小程序）保持一致性。")])]),t._v(" "),e("p",[t._v("前端开源项目推荐：")]),t._v(" "),e("p",[t._v("https://juejin.cn/post/6999918705639424014")]),t._v(" "),e("h2",{attrs:{id:"使用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),e("ul",[e("li",[t._v("储存 token、openid 等")]),t._v(" "),e("li",[t._v("储存登录后的用户信息")]),t._v(" "),e("li",[t._v("页面url传参数据过大或者跨页面传参时，改用 localstorage 来传递")]),t._v(" "),e("li",[t._v("后台管理类项目中储存一些用户的主题配置")]),t._v(" "),e("li",[t._v("在 vue 开发中，做 vuex 的持久化")])]),t._v(" "),e("h2",{attrs:{id:"简单使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单使用"}},[t._v("#")]),t._v(" 简单使用")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 基本变量\nlocalStorage.setItem('name', '张三')\nlocalStorage.getItem('name')\nlocalStorage.removeItem('name')\n\n// 引用变量\nlocalStorage.setItem('userInfo', JSON.stringify(user))\nconst user = JSON.parse(localStorage.getItem('userInfo'))\nlocalStorage.removeItem('userInfo')\n")])])]),e("h2",{attrs:{id:"哪些问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#哪些问题"}},[t._v("#")]),t._v(" 哪些问题")]),t._v(" "),e("ol",[e("li",[t._v("一致性，基本变量和引用变量存取方式不一致")]),t._v(" "),e("li",[t._v("时效性，像cookie一样，也支持设置过期时间，比如给token加过期时间（PS：真的有叫前端判断过期这种情况）")]),t._v(" "),e("li",[t._v("同一主域名下  localstorage 是互通的，如果两个应用部署在同一域名下，会出现相互替换的情况")])]),t._v(" "),e("h2",{attrs:{id:"封装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#封装"}},[t._v("#")]),t._v(" 封装")])])}),[],!1,null,null,null);e.default=r.exports}}]);